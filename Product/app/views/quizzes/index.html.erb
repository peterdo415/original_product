<div class="container mt-4">
  <h2 class="text-xl font-semibold mb-4">問題一覧</h2>

  <div class="flex justify-between mb-4">
    <!-- 問題検索フォーム -->
    <%= form_with url: search_quizzes_path, model: @quiz, method: :get do |f| %>
      <div class="flex">
        <%= f.text_field :search, value: params[:search], placeholder: "問題検索", class: "rounded-l-lg p-2 border-t mr-0 border-b border-l text-gray-800 border-gray-200 bg-white" %>
        <button type="submit" class="px-4 rounded-r-lg bg-blue-500 text-white font-semibold">検索</button>
      </div>

      <div class="mb-4">
      <%= f.label :category, "カテゴリー", class: "font-semibold" %>
      <%= f.select :category, options_for_select(Category.all.pluck(:name), params[:category]), { include_blank: true }, class: "rounded-lg p-2 border border-gray-200 bg-white" %>
    </div>
    <% end %>


    <!-- ページ表示件数選択 -->
    <%= form_tag quizzes_path, method: :get do %>
      <label class="mr-2">表示件数:</label>
      <%= select_tag :per_page, options_for_select([10, 30], params[:per_page].to_i), onchange: "this.form.submit();" %>
    <% end %>

  </div>

  <%= turbo_frame_tag "cats-list" do %>
    <% @quizzes.each do |quiz| %>
      <div class="bg-white p-4 rounded-lg shadow-md mb-4">
        <h3 class="text-lg font-semibold mb-2">
          <%= link_to quiz.problem_statement, quiz_path(quiz), class: "text-blue-500 font-semibold hover:underline" %>
        </h3>
      </div>
    <% end %>
  <% end %>

  <!-- ページネーションリンク -->
<div class="flex justify-center mt-4">
  <nav class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
    <%= paginate @quizzes, previous_label: '前へ', next_label: '次へ', class: 'pagination hover:text-blue-600 text-lg' %>
  </nav>
</div>

</div>
